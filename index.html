<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Sparkhit by rhinempi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Sparkhit</h1>
      <h2 class="project-tagline">sparkhit - a cloud ready platform for large scale genomic data analysis</h2>
      <a href="index.html" class="btn">Home page</a>
      <a href="example.html" class="btn">Getting started</a>
      <a href="manual.html" class="btn">User manual</a>
      <a href="mailto:huanglr@cebitec.uni-bielefeld.de" class="btn">Contact us</a>
        <br>
      <a href="https://github.com/rhinempi/sparkhit/archive/latest.zip" class="btn">&nbsp;Download&nbsp;</a>
      <a href="http://bibiserv.techfak.uni-bielefeld.de/" class="btn">Other resource</a>
      <a href="https://github.com/rhinempi/sparkhit" class="btn">Source code&nbsp;</a>
      <a href="https://github.com/rhinempi/sparkhit/issues" class="btn">Questions&nbsp;</a>
    </section>
    

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
  <a href="#welcome-to-sparkhit" style="font-size:18px">Welcome</a>
  <a href="#how-it-works" style="font-size:18px">How it works</a>
  <a href="#getting-started" style="font-size:18px">Getting started</a>
  <a href="#use-your-tool"style="font-size:18px" >Use your own tool</a>
  <a href="#setup-cluster" style="font-size:18px" >Setup cluster</a>
  <a href="#support-or-contact" style="font-size:18px">Support or Contact</a>
  <a href="#acknowledgement" style="font-size:18px">Acknowledgement</a>
</div>

<div id="main">
  <span style="font-size:30px;cursor:pointer" onclick="openNav()">☰ Menu</span>
</div>

<script>
function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
    document.body.style.backgroundColor = "white";
}
function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
    document.body.style.backgroundColor = "white";
}
</script>


    <section class="main-content">
      <h3>
<a id="welcome-to-sparkhit" class="anchor" href="#welcome-to-sparkhit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Welcome to Sparkhit</h3>

        <p><b>Sparkhit</b> is an open source distributed computing platform for analyzing large-scale genomic dataset. It is built on top of the <i>Apache</i> <a href="http://spark.apache.org/">Spark</a> and <a href="http://hadoop.apache.org/">Hadoop</a> framework with implementations of different bioinformatics tools and methods. Here you can parallelize your workload such as sequence mapping, genotyping, gene expressiong quantification and taxonomy profiling. You can also use your own tools without changing your code.</p>

<h3>
<a id="setup-cluster" class="anchor" href="#setup-cluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use case</h3>
        <p>
            We analyzed the entire whole-genome sequencing data (8.6 TB) of <a href="http://hmpdacc.org/">Human Microbiome Project</a> on the cloud in less than 2 hours, including cluster deployment, data downloading, decompressing and analyzing (taxonomy profiling). We used <a href="https://ccb.jhu.edu/software/kraken/">Kraken</a> on Sparkhit platform that profiled the taxonomy abundance of 6 differnt body sites. Here is the result presented in <a href="https://github.com/marbl/Krona/wiki">Krona</a> plot.
        </p>
        <iframe
            id="Example"
            title="Example"
            width=100%
            height=700
            frameborder="0"
            scrolling="no"
            marginheight="0"
            marginwidth="0"
            src="./bodysites.krona.html">
        </iframe>
        
<h3>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How it works</h3>

        <p>Sparkhit uses Spark <a href="http://www.tutorialspoint.com/apache_spark/apache_spark_rdd.htm">RDD</a> (resilient distributed dataset) to distribute genomic datasets: sequenced reads, mapped hits, genotype Alleles or expression data of genes or microbes. These datasets are, then, processed in parallel with <a href="https://en.wikipedia.org/wiki/MapReduce">MapReduce</a> paradigm.</p>
        <p>
        <img src="images/Poster-Sparkhit.jpg" style="width:100%;height:100%;">

<h3>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting started</h3>

        <p>
            Follow a <a href="example.html">tutorial</a> to run a simple <i>Sparkhit</i> application on your laptop.
        </p>
        
<h3>
<a id="use-your-tool" class="anchor" href="#use-your-tool" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use your own tool</h3>

<p>Sparkhit enables user to use their own tools without changing their code.</p>
 <p>
            Command: <br> </p>
<pre>
/usr/bin/sparkhit piper \ 
  --driver-memory 4G \                                          ## Spark parameter
  --executor-memory 8G \                                        ## Spark parameter
  -input /vol/human-microbiome-project/SRSXXXXX.tar.bz2 \       # Sparkhit parameter
  -tool /vol/sparkhit-home/package/mycode/myMappingScript.sh \  # Sparkhit parameter
  -toolparam "-refrence /vol/singlecell/genome.fa" \            # Sparkhit parameter
  -output /vol/mybucket/sparkhit/result                         # Sparkhit parameter
</pre>
        Read <a href="manual.html#piper-options">more</a>

<h3>
<a id="setup-cluster" class="anchor" href="#setup-cluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup cluster</h3>

        <p>A spark cluster is essential to scale-out (multiple computer nodes) sparkhit workloads. There are three tools at your disposal: Spark-ec2, BiBiGrid, EMR. Follow a <a href="manual.html#setting-spark-sge">tutorial</a> to setup a small cluster on amazon cloud or local cluster.</p>
        
<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Sparkhit? Leave a question at <a href="https://github.com/rhinempi/sparkhit/issues">github</a> or <a href="mailto:huanglr@cebitec.uni-bielefeld.de">contact support</a> and we’ll help you sort it out.</p>
        
<h3>
<a id="acknowledgement" class="anchor" href="#acknowledgement" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Acknowledgement</h3>
        
<p>We acknowledge all developers whose tools are used by sparkhit.</p>
        <a href="http://www.didy.uni-bielefeld.de/"><img src="images/didy-logo.png" style="width:259px;height:53px;"></a>
        <a href="https://www.denbi.de/"><img src="images/deNBI-Logo.png" style="width:202px;height:53px;"></a>
        <a href="https://aws.amazon.com/grants/"><img src="images/aws-logo.png" style="width:145px;height:53px;"></a>

      <footer class="site-footer">
          <span class="site-footer-owner"><a href="https://github.com/rhinempi/sparkhit">Sparkhit</a> is maintained by <a href="https://github.com/rhinempi">Liren Huang</a></span>

        <span class="site-footer-credits">This page was generated based on a template from <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
